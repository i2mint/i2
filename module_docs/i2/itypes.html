

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>i2.itypes &mdash; i2 0.1.48 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=b5e87a2a"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/toggleprompt.js?v=d7ede5d2"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="i2.key_path" href="key_path.html" />
    <link rel="prev" title="i2.io_trans" href="io_trans.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            i2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../i2.html">i2</a></li>
<li class="toctree-l1"><a class="reference internal" href="_deprecated.html">i2._deprecated</a></li>
<li class="toctree-l1"><a class="reference internal" href="base.html">i2.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="castgraph.html">i2.castgraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="chain_map.html">i2.chain_map</a></li>
<li class="toctree-l1"><a class="reference internal" href="deco.html">i2.deco</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_mint.html">i2.doc_mint</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">i2.errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">i2.examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/castgraph_examples.html">i2.examples.castgraph_examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/signature_calculus.html">i2.examples.signature_calculus</a></li>
<li class="toctree-l1"><a class="reference internal" href="footprints.html">i2.footprints</a></li>
<li class="toctree-l1"><a class="reference internal" href="io_trans.html">i2.io_trans</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">i2.itypes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#i2.itypes.HasAttrs"><code class="docutils literal notranslate"><span class="pre">HasAttrs</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.itypes.ObjectClassifier"><code class="docutils literal notranslate"><span class="pre">ObjectClassifier</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#i2.itypes.ObjectClassifier.all_matches"><code class="docutils literal notranslate"><span class="pre">ObjectClassifier.all_matches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.itypes.ObjectClassifier.matches"><code class="docutils literal notranslate"><span class="pre">ObjectClassifier.matches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.itypes.ObjectClassifier.matching_kind"><code class="docutils literal notranslate"><span class="pre">ObjectClassifier.matching_kind()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.itypes.ObjectClassifier.matching_kinds"><code class="docutils literal notranslate"><span class="pre">ObjectClassifier.matching_kinds()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#i2.itypes.input_and_output_types"><code class="docutils literal notranslate"><span class="pre">input_and_output_types()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.itypes.is_callable_kind"><code class="docutils literal notranslate"><span class="pre">is_callable_kind()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.itypes.iterable_to_literal"><code class="docutils literal notranslate"><span class="pre">iterable_to_literal()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.itypes.new_type"><code class="docutils literal notranslate"><span class="pre">new_type()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.itypes.validate_literal"><code class="docutils literal notranslate"><span class="pre">validate_literal()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="key_path.html">i2.key_path</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_object.html">i2.multi_object</a></li>
<li class="toctree-l1"><a class="reference internal" href="routing_forest.html">i2.routing_forest</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap.html">i2.scrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/scrap.html">i2.scrap.scrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/scrap_ch_variadics.html">i2.scrap.scrap_ch_variadics</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/scrap_kwargs.html">i2.scrap.scrap_kwargs</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/signature_bops.html">i2.scrap.signature_bops</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/simple_pymint.html">i2.scrap.simple_pymint</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/switch_case_tree.html">i2.scrap.switch_case_tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="signatures.html">i2.signatures</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">i2.tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/footprints_test.html">i2.tests.footprints_test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/objects_for_testing.html">i2.tests.objects_for_testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/signatures_test.html">i2.tests.signatures_test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_castgraph.html">i2.tests.test_castgraph</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_util.html">i2.tests.test_util</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_wrapper.html">i2.tests.test_wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/util.html">i2.tests.util</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">i2.util</a></li>
<li class="toctree-l1"><a class="reference internal" href="wrapper.html">i2.wrapper</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">i2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">i2.itypes</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/module_docs/i2/itypes.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-i2.itypes">
<span id="i2-itypes"></span><h1>i2.itypes<a class="headerlink" href="#module-i2.itypes" title="Link to this heading">ÔÉÅ</a></h1>
<p>Types</p>
<dl class="py class">
<dt class="sig sig-object py" id="i2.itypes.HasAttrs">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.itypes.</span></span><span class="sig-name descname"><span class="pre">HasAttrs</span></span><a class="reference internal" href="../../_modules/i2/itypes.html#HasAttrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.HasAttrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Make a protocol to express the existence of specific attributes.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">SizedAndAppendable</span> <span class="o">=</span> <span class="n">HasAttrs</span><span class="p">[</span><span class="s2">&quot;__len__&quot;</span><span class="p">,</span> <span class="s2">&quot;append&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">SizedAndAppendable</span><span class="p">)</span>  <span class="c1"># lists have both a length and an append</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">SizedAndAppendable</span><span class="p">)</span>  <span class="c1"># tuples don&#39;t have an append</span>
</pre></div>
</div>
<p>[Python Protocols](<a class="reference external" href="https://www.python.org/dev/peps/pep-0544/">https://www.python.org/dev/peps/pep-0544/</a>) are a way to be able to do
‚Äúbehavior typing‚Äù (my bad terminology).
Basically, if you want your static analyzer
(the swingles in your IDE, or linter validation process‚Ä¶)
to check if you‚Äôre manipulating the expected types, except the types
(classes, subclasses, ABCs, abstract classes‚Ä¶) are too restrictive (they are!),
you can use Protocols to fill the gap.</p>
<p>Except writing them can sometimes be verbose.</p>
<p>With HasAttrs you can have the basic ‚Äúdoes it have these attributes‚Äù cases covered.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">dict</span><span class="p">(),</span> <span class="n">HasAttrs</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">list</span><span class="p">(),</span> <span class="n">HasAttrs</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">dict</span><span class="p">(),</span> <span class="n">HasAttrs</span><span class="p">[</span><span class="s2">&quot;append&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">prop</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">HasAttrs</span><span class="p">[</span><span class="s2">&quot;method&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">HasAttrs</span><span class="p">[</span><span class="s2">&quot;method&quot;</span><span class="p">,</span> <span class="s2">&quot;prop&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">HasAttrs</span><span class="p">[</span><span class="s2">&quot;method&quot;</span><span class="p">,</span> <span class="s2">&quot;prop&quot;</span><span class="p">,</span> <span class="s2">&quot;this_attr_does_not_exist&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="i2.itypes.ObjectClassifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.itypes.</span></span><span class="sig-name descname"><span class="pre">ObjectClassifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verifiers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">KT</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/itypes.html#ObjectClassifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.ObjectClassifier" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>A general-purpose classifier for objects based on a set of verifying functions.</p>
<p>Each ‚Äúverifier‚Äù checks whether an object belongs to a certain kind (category).</p>
<p>Example usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mapping</span><span class="p">,</span> <span class="n">Iterable</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">isa</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">typ</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">obj</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">typ</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">verifiers</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="n">isa</span><span class="p">(</span><span class="nb">str</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s1">&#39;mapping&#39;</span><span class="p">:</span> <span class="n">isa</span><span class="p">(</span><span class="n">Mapping</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s1">&#39;iterable&#39;</span><span class="p">:</span> <span class="n">isa</span><span class="p">(</span><span class="n">Iterable</span><span class="p">)</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classifier</span> <span class="o">=</span> <span class="n">ObjectClassifier</span><span class="p">(</span><span class="n">verifiers</span><span class="p">)</span>
</pre></div>
</div>
<p>Check if the object matches any kind</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">classifier</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Check if the object matches a specific kind</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">classifier</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s1">&#39;str&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classifier</span><span class="o">.</span><span class="n">matches</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s1">&#39;mapping&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Get all matches</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">classifier</span><span class="o">.</span><span class="n">all_matches</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="go">{&#39;str&#39;: True, &#39;mapping&#39;: False, &#39;iterable&#39;: True}</span>
</pre></div>
</div>
<p>Find all matching kinds</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">classifier</span><span class="o">.</span><span class="n">matching_kinds</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
<span class="go">[&#39;str&#39;, &#39;iterable&#39;]</span>
</pre></div>
</div>
<p>Find the first matching kind (default is to ensure uniqueness, which will fail here)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">classifier</span><span class="o">.</span><span class="n">matching_kind</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Multiple matches found: [&#39;str&#39;, &#39;iterable&#39;]</span>
</pre></div>
</div>
<p>Find the first matching kind without uniqueness check</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">classifier</span><span class="o">.</span><span class="n">matching_kind</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">assert_unique</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&#39;str&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="i2.itypes.ObjectClassifier.all_matches">
<span class="sig-name descname"><span class="pre">all_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">KT</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/i2/itypes.html#ObjectClassifier.all_matches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.ObjectClassifier.all_matches" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Returns a dictionary indicating if the object matches each kind.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> ‚Äì The object to classify.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with kind names as keys and True/False as values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.itypes.ObjectClassifier.matches">
<span class="sig-name descname"><span class="pre">matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">KT</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../../_modules/i2/itypes.html#ObjectClassifier.matches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.ObjectClassifier.matches" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Returns True if the object matches the given kind, or matches any kind
if kind is None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> ‚Äì The object to classify.</p></li>
<li><p><strong>kind</strong> ‚Äì The specific kind (verifier key) to check.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the object matches the given or any kind.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.itypes.ObjectClassifier.matching_kind">
<span class="sig-name descname"><span class="pre">matching_kind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assert_unique</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">KT</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../../_modules/i2/itypes.html#ObjectClassifier.matching_kind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.ObjectClassifier.matching_kind" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Returns the first kind that matches the object. If assert_unique is True,
it asserts that only one match exists. Optionally, it can return the value instead of the key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> ‚Äì The object to classify.</p></li>
<li><p><strong>assert_unique</strong> ‚Äì Ensures only one kind matches, if True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The key of the first matching kind, or None if no match.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.itypes.ObjectClassifier.matching_kinds">
<span class="sig-name descname"><span class="pre">matching_kinds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span></span></span><a class="reference internal" href="../../_modules/i2/itypes.html#ObjectClassifier.matching_kinds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.ObjectClassifier.matching_kinds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Returns an iterator of kinds that match the object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> ‚Äì The object to classify.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An iterator of matching kinds.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.itypes.input_and_output_types">
<span class="sig-prename descclassname"><span class="pre">i2.itypes.</span></span><span class="sig-name descname"><span class="pre">input_and_output_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typ</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/itypes.html#input_and_output_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.input_and_output_types" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Returns the input and output types</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Tuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_types</span><span class="p">,</span> <span class="n">output_type</span> <span class="o">=</span> <span class="n">input_and_output_types</span><span class="p">(</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">input_types</span> <span class="o">==</span> <span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="ow">and</span> <span class="n">output_type</span> <span class="o">==</span> <span class="nb">str</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_types</span><span class="p">,</span> <span class="n">output_type</span> <span class="o">=</span> <span class="n">input_and_output_types</span><span class="p">(</span><span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">input_types</span> <span class="o">==</span> <span class="p">[]</span> <span class="ow">and</span> <span class="n">output_type</span> <span class="o">==</span> <span class="nb">str</span>
</pre></div>
</div>
<p>But will fail if <cite>typ</cite> isn‚Äôt a <cite>Callable</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_and_output_types</span><span class="p">(</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span>  
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">AssertionError</span>: <span class="n">Is not a typing.Callable kind: typing.Tuple[float, int, str]</span>
</pre></div>
</div>
<p>Will also fail if <cite>typ</cite> is a Callable but not ‚Äúparametrized‚Äù.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_and_output_types</span><span class="p">(</span><span class="n">Callable</span><span class="p">)</span>  
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">AssertionError</span>: <span class="n">Can only be used on a Callable[[...],...] kind: typing.Callable</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.itypes.is_callable_kind">
<span class="sig-prename descclassname"><span class="pre">i2.itypes.</span></span><span class="sig-name descname"><span class="pre">is_callable_kind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typ</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/itypes.html#is_callable_kind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.is_callable_kind" title="Link to this definition">ÔÉÅ</a></dt>
<dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Tuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_callable_kind</span><span class="p">(</span><span class="n">Callable</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_callable_kind</span><span class="p">(</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="nb">str</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">is_callable_kind</span><span class="p">(</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.itypes.iterable_to_literal">
<span class="sig-prename descclassname"><span class="pre">i2.itypes.</span></span><span class="sig-name descname"><span class="pre">iterable_to_literal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/itypes.html#iterable_to_literal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.iterable_to_literal" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Convert an iterable to a Literal type.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">iterable_to_literal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="go">typing.Literal[1, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.itypes.new_type">
<span class="sig-prename descclassname"><span class="pre">i2.itypes.</span></span><span class="sig-name descname"><span class="pre">new_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aka</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assign_to_globals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/itypes.html#new_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.new_type" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Make a new type with (optional) doc and (optional) aka, set of var names it often
appears as</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> ‚Äì Name to give the variable</p></li>
<li><p><strong>tp</strong> ‚Äì type (see typing module)</p></li>
<li><p><strong>doc</strong> ‚Äì Optional string to put in __doc__ attribute</p></li>
<li><p><strong>aka</strong> ‚Äì Optional set (or any iterable) to put in _aka attribute,
meant to list names the variables of this type often appear as.</p></li>
</ul>
</dd>
</dl>
<p>Returns: None</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">List</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MyType</span> <span class="o">=</span> <span class="n">new_type</span><span class="p">(</span><span class="s1">&#39;MyType&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># TODO: Skipping the next part because outputs &lt;class &#39;typing.NewType&#39;&gt; in 3.10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">MyType</span><span class="p">)</span>  
<span class="go">&lt;class &#39;function&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Key</span> <span class="o">=</span> <span class="n">new_type</span><span class="p">(</span><span class="s1">&#39;Key&#39;</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">aka</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">Key</span><span class="o">.</span><span class="n">_aka</span><span class="p">)</span>
<span class="go">[&#39;k&#39;, &#39;key&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Val</span> <span class="o">=</span> <span class="n">new_type</span><span class="p">(</span>
<span class="gp">... </span><span class="s1">&#39;Val&#39;</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]],</span>
<span class="gp">... </span><span class="n">doc</span><span class="o">=</span><span class="s2">&quot;A number or list of numbers.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Val</span><span class="o">.</span><span class="vm">__doc__</span>
<span class="go">&#39;A number or list of numbers.&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.itypes.validate_literal">
<span class="sig-prename descclassname"><span class="pre">i2.itypes.</span></span><span class="sig-name descname"><span class="pre">validate_literal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/itypes.html#validate_literal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.itypes.validate_literal" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Decorator to validate (Literal-annotated) argument values at call time.</p>
<p>Wraps a function to add validation of the input arguments annotated with Literal
against the values listed by the literal. If the input argument is not one of the
literal values, a ValueError is raised.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@validate_literal</span>
<span class="gp">... </span><span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ValueError</span>: <span class="n">4 is an invalid value for x. Values should be one of the following: (1, 2, 3)</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="io_trans.html" class="btn btn-neutral float-left" title="i2.io_trans" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="key_path.html" class="btn btn-neutral float-right" title="i2.key_path" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright NO COPYRIGHT.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>