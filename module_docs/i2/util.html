<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>i2.util &mdash; i2 0.1.15 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=e2f3408e"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/toggleprompt.js?v=d7ede5d2"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="i2.wrapper" href="wrapper.html" />
    <link rel="prev" title="i2.tests.util" href="tests/util.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            i2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../i2.html">i2</a></li>
<li class="toctree-l1"><a class="reference internal" href="_deprecated.html">i2._deprecated</a></li>
<li class="toctree-l1"><a class="reference internal" href="base.html">i2.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="chain_map.html">i2.chain_map</a></li>
<li class="toctree-l1"><a class="reference internal" href="deco.html">i2.deco</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc_mint.html">i2.doc_mint</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">i2.errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">i2.examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/signature_calculus.html">i2.examples.signature_calculus</a></li>
<li class="toctree-l1"><a class="reference internal" href="footprints.html">i2.footprints</a></li>
<li class="toctree-l1"><a class="reference internal" href="io_trans.html">i2.io_trans</a></li>
<li class="toctree-l1"><a class="reference internal" href="itypes.html">i2.itypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="key_path.html">i2.key_path</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_object.html">i2.multi_object</a></li>
<li class="toctree-l1"><a class="reference internal" href="routing_forest.html">i2.routing_forest</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap.html">i2.scrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/scrap.html">i2.scrap.scrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/scrap_ch_variadics.html">i2.scrap.scrap_ch_variadics</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/scrap_kwargs.html">i2.scrap.scrap_kwargs</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/signature_bops.html">i2.scrap.signature_bops</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/simple_pymint.html">i2.scrap.simple_pymint</a></li>
<li class="toctree-l1"><a class="reference internal" href="scrap/switch_case_tree.html">i2.scrap.switch_case_tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="signatures.html">i2.signatures</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">i2.tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/footprints_test.html">i2.tests.footprints_test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/objects_for_testing.html">i2.tests.objects_for_testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/signatures_test.html">i2.tests.signatures_test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_util.html">i2.tests.test_util</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_wrapper.html">i2.tests.test_wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/util.html">i2.tests.util</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">i2.util</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.ConditionalExceptionCatcher"><code class="docutils literal notranslate"><span class="pre">ConditionalExceptionCatcher</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.ExistingArgument"><code class="docutils literal notranslate"><span class="pre">ExistingArgument</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.FileLikeObject"><code class="docutils literal notranslate"><span class="pre">FileLikeObject()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.FrozenDict"><code class="docutils literal notranslate"><span class="pre">FrozenDict</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FrozenDict.clear"><code class="docutils literal notranslate"><span class="pre">FrozenDict.clear()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FrozenDict.fromkeys"><code class="docutils literal notranslate"><span class="pre">FrozenDict.fromkeys()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FrozenDict.pop"><code class="docutils literal notranslate"><span class="pre">FrozenDict.pop()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FrozenDict.popitem"><code class="docutils literal notranslate"><span class="pre">FrozenDict.popitem()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FrozenDict.setdefault"><code class="docutils literal notranslate"><span class="pre">FrozenDict.setdefault()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FrozenDict.update"><code class="docutils literal notranslate"><span class="pre">FrozenDict.update()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FrozenDict.updated"><code class="docutils literal notranslate"><span class="pre">FrozenDict.updated()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.FrozenHashError"><code class="docutils literal notranslate"><span class="pre">FrozenHashError</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.FunctionBuilder"><code class="docutils literal notranslate"><span class="pre">FunctionBuilder</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FunctionBuilder.add_arg"><code class="docutils literal notranslate"><span class="pre">FunctionBuilder.add_arg()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FunctionBuilder.from_func"><code class="docutils literal notranslate"><span class="pre">FunctionBuilder.from_func()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FunctionBuilder.get_defaults_dict"><code class="docutils literal notranslate"><span class="pre">FunctionBuilder.get_defaults_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FunctionBuilder.get_func"><code class="docutils literal notranslate"><span class="pre">FunctionBuilder.get_func()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FunctionBuilder.get_sig_str"><code class="docutils literal notranslate"><span class="pre">FunctionBuilder.get_sig_str()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.FunctionBuilder.remove_arg"><code class="docutils literal notranslate"><span class="pre">FunctionBuilder.remove_arg()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.LiteralVal"><code class="docutils literal notranslate"><span class="pre">LiteralVal</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.LiteralVal.get_val"><code class="docutils literal notranslate"><span class="pre">LiteralVal.get_val()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.MissingArgument"><code class="docutils literal notranslate"><span class="pre">MissingArgument</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.Namespace"><code class="docutils literal notranslate"><span class="pre">Namespace</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.OverwritesForbidden"><code class="docutils literal notranslate"><span class="pre">OverwritesForbidden</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.PicklableLambda"><code class="docutils literal notranslate"><span class="pre">PicklableLambda</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.asis"><code class="docutils literal notranslate"><span class="pre">asis()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.copy_func"><code class="docutils literal notranslate"><span class="pre">copy_func()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.dp_get"><code class="docutils literal notranslate"><span class="pre">dp_get()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.ensure_identifiers"><code class="docutils literal notranslate"><span class="pre">ensure_identifiers()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.frozendict"><code class="docutils literal notranslate"><span class="pre">frozendict</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.get_app_data_folder"><code class="docutils literal notranslate"><span class="pre">get_app_data_folder()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.get_function_body"><code class="docutils literal notranslate"><span class="pre">get_function_body()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.ignore_exception"><code class="docutils literal notranslate"><span class="pre">ignore_exception()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.imdict"><code class="docutils literal notranslate"><span class="pre">imdict</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.imdict.clear"><code class="docutils literal notranslate"><span class="pre">imdict.clear()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.imdict.pop"><code class="docutils literal notranslate"><span class="pre">imdict.pop()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.imdict.popitem"><code class="docutils literal notranslate"><span class="pre">imdict.popitem()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.imdict.setdefault"><code class="docutils literal notranslate"><span class="pre">imdict.setdefault()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#i2.util.imdict.update"><code class="docutils literal notranslate"><span class="pre">imdict.update()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.inject_method"><code class="docutils literal notranslate"><span class="pre">inject_method()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.insert_name_based_objects_in_scope"><code class="docutils literal notranslate"><span class="pre">insert_name_based_objects_in_scope()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.inspect_formatargspec"><code class="docutils literal notranslate"><span class="pre">inspect_formatargspec()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.lambda_code"><code class="docutils literal notranslate"><span class="pre">lambda_code()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.lazyprop"><code class="docutils literal notranslate"><span class="pre">lazyprop</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.mk_sentinel"><code class="docutils literal notranslate"><span class="pre">mk_sentinel()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.path_extractor"><code class="docutils literal notranslate"><span class="pre">path_extractor()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.return_false"><code class="docutils literal notranslate"><span class="pre">return_false()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#i2.util.return_true"><code class="docutils literal notranslate"><span class="pre">return_true()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wrapper.html">i2.wrapper</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">i2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">i2.util</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/module_docs/i2/util.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-i2.util">
<span id="i2-util"></span><h1>i2.util<a class="headerlink" href="#module-i2.util" title="Link to this heading"></a></h1>
<p>Misc util objects</p>
<dl class="py class">
<dt class="sig sig-object py" id="i2.util.ConditionalExceptionCatcher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">ConditionalExceptionCatcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">exception_types:</span> <span class="pre">BaseException</span> <span class="pre">|</span> <span class="pre">~typing.Tuple[BaseException],</span> <span class="pre">exception_condition:</span> <span class="pre">~typing.Callable[[BaseException],</span> <span class="pre">bool]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">return_true&gt;,</span> <span class="pre">handlers:</span> <span class="pre">~typing.Callable[[BaseException],</span> <span class="pre">None]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">asis&gt;,</span> <span class="pre">*,</span> <span class="pre">prevent_propagation=True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#ConditionalExceptionCatcher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.ConditionalExceptionCatcher" title="Link to this definition"></a></dt>
<dd><p>Context manager to catch exceptions of a certain type and instance condition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exception_types</strong> – The type of exception to catch. Can be a single exception
type or a tuple of exception types.</p></li>
<li><p><strong>exception_condition</strong> – A function that takes an exception instance and returns
a “key” value indicating whether the exception should be caught.
If the bool(key) is True, the exception is caught.
If the bool(key) is False, the exception is not caught.
The key can further be used to determine the handler to use, when the handlers
argument is a mapping.
The default is to catch all exceptions of the specified type(s).</p></li>
<li><p><strong>handlers</strong> – Specification of how to handle the exceptions. Can be a single
function to run on the exception object when an exception of the specified
type is caught, or a mapping (e.g. dict) of handler functions, keyed by the
key returned by the exception_condition function.</p></li>
<li><p><strong>prevent_propagation</strong> – Whether to prevent the exception from propagating. Defaults
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exception_catcher</span> <span class="o">=</span> <span class="n">ConditionalExceptionCatcher</span><span class="p">(</span>
<span class="gp">... </span>    <span class="ne">ValueError</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">handlers</span><span class="o">=</span><span class="nb">print</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">exception_catcher</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">foo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">exception_catcher</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">TypeError</span>: <span class="n">foo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">exception_catcher</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ValueError</span>: <span class="n">bar</span>
</pre></div>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="i2.util.ExistingArgument">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">ExistingArgument</span></span><a class="reference internal" href="../../_modules/i2/util.html#ExistingArgument"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.ExistingArgument" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.FileLikeObject">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">FileLikeObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">io_cls=&lt;class</span> <span class="pre">'_io.BytesIO'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">open_mode='rb'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FileLikeObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FileLikeObject" title="Link to this definition"></a></dt>
<dd><p>Context manager for file-like objects.</p>
<p>The purpose of this context manager is to be able to ensure we have a file-like
object interface to work with, regardless of whether we are given a file path,
bytes of a file, or an open file pointer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>str</em><em>, </em><em>bytes</em><em>, </em><em>io.IOBase</em>) – The file path, bytes of a file, or an open file pointer.</p>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><em>io.IOBase</em> – A file-like object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="i2.util.FrozenDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">FrozenDict</span></span><a class="reference internal" href="../../_modules/i2/util.html#FrozenDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FrozenDict" title="Link to this definition"></a></dt>
<dd><p>An immutable dict subtype that is hashable and can itself be used
as a <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code> key or <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code> entry. What
<code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code> is to <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code>, FrozenDict is to
<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>.</p>
<p>There was once an attempt to introduce such a type to the standard
library, but it was rejected: <a class="reference external" href="https://www.python.org/dev/peps/pep-0416/">PEP 416</a>.</p>
<p>Because FrozenDict is a <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code> subtype, it automatically
works everywhere a dict would, including JSON serialization.</p>
<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FrozenDict.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#i2.util.FrozenDict.clear" title="Link to this definition"></a></dt>
<dd><p>raises a TypeError, because FrozenDicts are immutable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FrozenDict.fromkeys">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fromkeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FrozenDict.fromkeys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FrozenDict.fromkeys" title="Link to this definition"></a></dt>
<dd><p>Create a new dictionary with keys from iterable and values set to value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FrozenDict.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#i2.util.FrozenDict.pop" title="Link to this definition"></a></dt>
<dd><p>raises a TypeError, because FrozenDicts are immutable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FrozenDict.popitem">
<span class="sig-name descname"><span class="pre">popitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#i2.util.FrozenDict.popitem" title="Link to this definition"></a></dt>
<dd><p>raises a TypeError, because FrozenDicts are immutable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FrozenDict.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#i2.util.FrozenDict.setdefault" title="Link to this definition"></a></dt>
<dd><p>raises a TypeError, because FrozenDicts are immutable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FrozenDict.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#i2.util.FrozenDict.update" title="Link to this definition"></a></dt>
<dd><p>raises a TypeError, because FrozenDicts are immutable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FrozenDict.updated">
<span class="sig-name descname"><span class="pre">updated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FrozenDict.updated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FrozenDict.updated" title="Link to this definition"></a></dt>
<dd><p>Make a copy and add items from a dictionary or iterable (and/or
keyword arguments), overwriting values under an existing
key. See <code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.update()</span></code> for more details.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="i2.util.FrozenHashError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">FrozenHashError</span></span><a class="reference internal" href="../../_modules/i2/util.html#FrozenHashError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FrozenHashError" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="i2.util.FunctionBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">FunctionBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FunctionBuilder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FunctionBuilder" title="Link to this definition"></a></dt>
<dd><p>The FunctionBuilder type provides an interface for programmatically
creating new functions, either based on existing functions or from
scratch.</p>
<p>Note: Based on <a class="reference external" href="https://boltons.readthedocs.io">https://boltons.readthedocs.io</a></p>
<p>Values are passed in at construction or set as attributes on the
instance. For creating a new function based of an existing one,
see the <a class="reference internal" href="#i2.util.FunctionBuilder.from_func" title="i2.util.FunctionBuilder.from_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_func()</span></code></a> classmethod. At any
point, <a class="reference internal" href="#i2.util.FunctionBuilder.get_func" title="i2.util.FunctionBuilder.get_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_func()</span></code></a> can be called to get a
newly compiled function, based on the values configured.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fb</span> <span class="o">=</span> <span class="n">FunctionBuilder</span><span class="p">(</span><span class="s1">&#39;return_five&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s1">&#39;returns the integer 5&#39;</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">body</span><span class="o">=</span><span class="s1">&#39;return 5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">fb</span><span class="o">.</span><span class="n">get_func</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fb</span><span class="o">.</span><span class="n">varkw</span> <span class="o">=</span> <span class="s1">&#39;kw&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_kw</span> <span class="o">=</span> <span class="n">fb</span><span class="o">.</span><span class="n">get_func</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_kw</span><span class="p">(</span><span class="n">ignored_arg</span><span class="o">=</span><span class="s1">&#39;ignored_val&#39;</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Note that function signatures themselves changed quite a bit in
Python 3, so several arguments are only applicable to
FunctionBuilder in Python 3. Except for <em>name</em>, all arguments to
the constructor are keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the function.</p></li>
<li><p><strong>doc</strong> (<em>str</em>) – <a class="reference external" href="https://en.wikipedia.org/wiki/Docstring#Python">Docstring</a> for the function, defaults to empty.</p></li>
<li><p><strong>module</strong> (<em>str</em>) – Name of the module from which this function was
imported. Defaults to None.</p></li>
<li><p><strong>body</strong> (<em>str</em>) – String version of the code representing the body
of the function. Defaults to <code class="docutils literal notranslate"><span class="pre">'pass'</span></code>, which will result
in a function which does nothing and returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>args</strong> (<em>list</em>) – List of argument names, defaults to empty list,
denoting no arguments.</p></li>
<li><p><strong>varargs</strong> (<em>str</em>) – Name of the catch-all variable for positional
arguments. E.g., “args” if the resultant function is to have
<code class="docutils literal notranslate"><span class="pre">*args</span></code> in the signature. Defaults to None.</p></li>
<li><p><strong>varkw</strong> (<em>str</em>) – Name of the catch-all variable for keyword
arguments. E.g., “kwargs” if the resultant function is to have
<code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> in the signature. Defaults to None.</p></li>
<li><p><strong>defaults</strong> (<em>tuple</em>) – A tuple containing default argument values for
those arguments that have defaults.</p></li>
<li><p><strong>kwonlyargs</strong> (<em>list</em>) – Argument names which are only valid as
keyword arguments. <strong>Python 3 only.</strong></p></li>
<li><p><strong>kwonlydefaults</strong> (<em>dict</em>) – A mapping, same as normal <em>defaults</em>,
but only for the <em>kwonlyargs</em>. <strong>Python 3 only.</strong></p></li>
<li><p><strong>annotations</strong> (<em>dict</em>) – Mapping of type hints and so
forth. <strong>Python 3 only.</strong></p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename that will appear in
tracebacks. Defaults to “boltons.funcutils.FunctionBuilder”.</p></li>
<li><p><strong>indent</strong> (<em>int</em>) – Number of spaces with which to indent the
function <em>body</em>. Values less than 1 will result in an error.</p></li>
<li><p><strong>dict</strong> (<em>dict</em>) – Any other attributes which should be added to the
functions compiled with this FunctionBuilder.</p></li>
</ul>
</dd>
</dl>
<p>All of these arguments are also made available as attributes which
can be mutated as necessary.</p>
<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FunctionBuilder.add_arg">
<span class="sig-name descname"><span class="pre">add_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">Sentinel('NO_DEFAULT')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwonly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FunctionBuilder.add_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FunctionBuilder.add_arg" title="Link to this definition"></a></dt>
<dd><p>Add an argument with optional <em>default</em> (defaults to
<code class="docutils literal notranslate"><span class="pre">funcutils.NO_DEFAULT</span></code>). Pass <em>kwonly=True</em> to add a
keyword-only argument</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FunctionBuilder.from_func">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FunctionBuilder.from_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FunctionBuilder.from_func" title="Link to this definition"></a></dt>
<dd><p>Create a new FunctionBuilder instance based on an existing
function. The original function will not be stored or
modified.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FunctionBuilder.get_defaults_dict">
<span class="sig-name descname"><span class="pre">get_defaults_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FunctionBuilder.get_defaults_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FunctionBuilder.get_defaults_dict" title="Link to this definition"></a></dt>
<dd><p>Get a dictionary of function arguments with defaults and the
respective values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FunctionBuilder.get_func">
<span class="sig-name descname"><span class="pre">get_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">execdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FunctionBuilder.get_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FunctionBuilder.get_func" title="Link to this definition"></a></dt>
<dd><p>Compile and return a new function based on the current values of
the FunctionBuilder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>execdict</strong> (<em>dict</em>) – The dictionary representing the scope in
which the compilation should take place. Defaults to an empty
dict.</p></li>
<li><p><strong>add_source</strong> (<em>bool</em>) – Whether to add the source used to a
special <code class="docutils literal notranslate"><span class="pre">__source__</span></code> attribute on the resulting
function. Defaults to True.</p></li>
<li><p><strong>with_dict</strong> (<em>bool</em>) – Add any custom attributes, if
applicable. Defaults to True.</p></li>
</ul>
</dd>
</dl>
<p>To see an example of usage, see the implementation of
<code class="xref py py-func docutils literal notranslate"><span class="pre">wraps()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FunctionBuilder.get_sig_str">
<span class="sig-name descname"><span class="pre">get_sig_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_annotations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FunctionBuilder.get_sig_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FunctionBuilder.get_sig_str" title="Link to this definition"></a></dt>
<dd><p>Return function signature as a string.</p>
<p>with_annotations is ignored on Python 2.  On Python 3 signature
will omit annotations if it is set to False.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.FunctionBuilder.remove_arg">
<span class="sig-name descname"><span class="pre">remove_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#FunctionBuilder.remove_arg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.FunctionBuilder.remove_arg" title="Link to this definition"></a></dt>
<dd><p>Remove an argument from this FunctionBuilder’s argument list. The
resulting function will have one less argument per call to
this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arg_name</strong> (<em>str</em>) – The name of the argument to remove.</p>
</dd>
</dl>
<p>Raises a <code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> if the argument is not present.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="i2.util.LiteralVal">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">LiteralVal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#LiteralVal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.LiteralVal" title="Link to this definition"></a></dt>
<dd><p>An object to indicate that the value should be considered literally.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">LiteralVal</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">get_val</span><span class="p">()</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">()</span>
<span class="go">42</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="i2.util.LiteralVal.get_val">
<span class="sig-name descname"><span class="pre">get_val</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#LiteralVal.get_val"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.LiteralVal.get_val" title="Link to this definition"></a></dt>
<dd><p>Get the value wrapped by Literal instance.</p>
<p>One might want to use <code class="docutils literal notranslate"><span class="pre">literal.get_val()</span></code> instead <code class="docutils literal notranslate"><span class="pre">literal()</span></code> to get the
value a <code class="docutils literal notranslate"><span class="pre">Literal</span></code> is wrapping because <code class="docutils literal notranslate"><span class="pre">.get_val</span></code> is more explicit.</p>
<p>That said, with a bit of hesitation, we allow the <code class="docutils literal notranslate"><span class="pre">literal()</span></code> form as well
since it is useful in situations where we need to use a callback function to
get a value.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="i2.util.MissingArgument">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">MissingArgument</span></span><a class="reference internal" href="../../_modules/i2/util.html#MissingArgument"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.MissingArgument" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="i2.util.Namespace">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">Namespace</span></span><a class="reference internal" href="../../_modules/i2/util.html#Namespace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.Namespace" title="Link to this definition"></a></dt>
<dd><p>A namespace that is also a mutable mapping.</p>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Namespace</span><span class="p">(</span><span class="n">apple</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">apps</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Get your values via attributes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">apple</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Get your values via keys:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">]</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Do the stuff Mappings do:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">[&#39;apple&#39;, &#39;apps&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;apps&#39;</span> <span class="ow">in</span> <span class="n">s</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Or even MutableMappings do:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="s1">&#39;appartment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">Namespace(apple=1, apps=2, appartment=3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">appartment</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="i2.util.OverwritesForbidden">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">OverwritesForbidden</span></span><a class="reference internal" href="../../_modules/i2/util.html#OverwritesForbidden"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.OverwritesForbidden" title="Link to this definition"></a></dt>
<dd><p>Raise when a user is not allowed to overwrite a mapping’s key</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="i2.util.PicklableLambda">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">PicklableLambda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#PicklableLambda"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.PicklableLambda" title="Link to this definition"></a></dt>
<dd><p>Wraps a lambda function to make it picklable (through extracting its code)
Also, provide it with a name, optionally.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ff</span> <span class="o">=</span> <span class="n">PicklableLambda</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fff</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ff</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">fff</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">ff</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>For lambda code-extraction see:
<a class="reference external" href="https://stackoverflow.com/questions/73980648/how-to-transform-a-lambda-function-into-a-pickle-able-function">https://stackoverflow.com/questions/73980648/how-to-transform-a-lambda-function-into-a-pickle-able-function</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.asis">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">asis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">T</span></span></span><a class="reference internal" href="../../_modules/i2/util.html#asis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.asis" title="Link to this definition"></a></dt>
<dd><p>the identity function: f(x) := x (takes only one argument, and returns it)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.copy_func">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">copy_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#copy_func"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.copy_func" title="Link to this definition"></a></dt>
<dd><p>Make a (shallow) copy of a function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">an_attr</span> <span class="o">=</span> <span class="mi">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_copy</span> <span class="o">=</span> <span class="n">copy_func</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_copy</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="mi">6</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_copy</span><span class="o">.</span><span class="n">an_attr</span> <span class="o">==</span> <span class="n">f</span><span class="o">.</span><span class="n">an_attr</span> <span class="o">==</span> <span class="mi">42</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Verify that making an attribute in one won’t create an attribute in the other:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">another_attr</span> <span class="o">=</span> <span class="mi">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">f_copy</span><span class="p">,</span> <span class="s1">&#39;another_attr&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_copy</span><span class="o">.</span><span class="n">yet_another_attr</span> <span class="o">=</span> <span class="mi">84</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;yet_another_attr&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – The function to be copied.</p></li>
<li><p><strong>copy_dict</strong> – Indicates whether to copy the <code class="docutils literal notranslate"><span class="pre">__dict__</span></code> attribute of the
function. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>code</strong> – The value to be use as the <code class="docutils literal notranslate"><span class="pre">__code__</span></code> attribute of the copy.</p></li>
<li><p><strong>globals</strong> – The value to be use as the <code class="docutils literal notranslate"><span class="pre">__globals__</span></code> attribute of the copy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A shallow copy of the function.</p>
</dd>
</dl>
<p>Note that it should always work with proper functions and attempts to do the
best job it can with other callables, but there are no guarantees on how
<code class="docutils literal notranslate"><span class="pre">copy_function</span></code> will behave with custom callables.</p>
<p>If these custom callables don’t have a <cite>__code__</cite> attribute, the copy will fail.
Furthermore, if the custom callable  doesn’t have <code class="docutils literal notranslate"><span class="pre">__globals__</span></code>, the empty
dictionary will be used as the globals.
We provide a <code class="docutils literal notranslate"><span class="pre">code</span></code> and <code class="docutils literal notranslate"><span class="pre">globals</span></code> argument to allow the user to provide
the <code class="docutils literal notranslate"><span class="pre">__code__</span></code> and <code class="docutils literal notranslate"><span class="pre">__globals__</span></code> attributes of the function to be copied.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – The function to be copied. Must be a function, not just any method or callable.</p></li>
<li><p><strong>copy_dict</strong> – Also copy any attributes set on the function instance. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A shallow copy of the function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.dp_get">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">dp_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dot_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#dp_get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.dp_get" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Get stuff from a dict (or any Mapping), using dot_paths (i.e. ‘foo.bar’ instead of</dt><dd><p>[‘foo’][‘bar’])</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;alice&#39;</span><span class="p">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">},</span> <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;pi&#39;</span><span class="p">:</span> <span class="mf">3.14</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dp_get</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;alice&#39;</span><span class="p">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dp_get</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;foo.bar&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">dp_get</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s1">&#39;foo.alice&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;bob&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.ensure_identifiers">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">ensure_identifiers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*objs:</span> <span class="pre">~typing.Iterable[~i2.util.T],</span> <span class="pre">get_identfiers:</span> <span class="pre">~typing.Callable[[~i2.util.T],</span> <span class="pre">~typing.Iterable[str]]</span> <span class="pre">=</span> <span class="pre">&lt;method</span> <span class="pre">'split'</span> <span class="pre">of</span> <span class="pre">'str'</span> <span class="pre">objects&gt;,</span> <span class="pre">is_identifier:</span> <span class="pre">~typing.Callable[[str],</span> <span class="pre">bool]</span> <span class="pre">=</span> <span class="pre">&lt;method</span> <span class="pre">'isidentifier'</span> <span class="pre">of</span> <span class="pre">'str'</span> <span class="pre">objects&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#ensure_identifiers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.ensure_identifiers" title="Link to this definition"></a></dt>
<dd><p>Ensure an iterable of identifiers</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ensure_identifiers</span><span class="p">(</span><span class="s1">&#39;these&#39;</span><span class="p">,</span> <span class="s1">&#39;are&#39;</span><span class="p">,</span> <span class="s1">&#39;valid&#39;</span><span class="p">,</span> <span class="s1">&#39;identifiers&#39;</span><span class="p">))</span>
<span class="go">[&#39;these&#39;, &#39;are&#39;, &#39;valid&#39;, &#39;identifiers&#39;]</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">ensure_identifiers</span></code> will apply <code class="docutils literal notranslate"><span class="pre">str.split</span></code> to each <code class="docutils literal notranslate"><span class="pre">obj</span></code> of
<code class="docutils literal notranslate"><span class="pre">objs</span></code> (assumed to be strings!) so that it can extract identifiers from
space-separated strings of identifiers:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ensure_identifiers</span><span class="p">(</span><span class="s1">&#39;these are valid identifiers&#39;</span><span class="p">))</span>
<span class="go">[&#39;these&#39;, &#39;are&#39;, &#39;valid&#39;, &#39;identifiers&#39;]</span>
</pre></div>
</div>
<p>You can control this functionality through the <code class="docutils literal notranslate"><span class="pre">get_identfiers</span></code> argument, for
example, disallowing such splitting, or enabling the extraction of identifiers
from other objects than strings.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ensure_identifiers</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s1">&#39;this&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;works&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;too&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
<span class="gp">... </span>    <span class="n">get_identfiers</span><span class="o">=</span><span class="nb">list</span>
<span class="gp">... </span><span class="p">))</span>
<span class="go">[&#39;this&#39;, &#39;works&#39;, &#39;too&#39;]</span>
</pre></div>
</div>
<p>You can also control the <code class="docutils literal notranslate"><span class="pre">is_identifier</span></code> validatation function:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">less_than_6_chars</span><span class="p">(</span><span class="n">s</span><span class="p">):</span> <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">ensure_identifiers</span><span class="p">(</span><span class="s1">&#39;okay&#39;</span><span class="p">,</span> <span class="s1">&#39;too_long&#39;</span><span class="p">,</span> <span class="n">is_identifier</span><span class="o">=</span><span class="n">less_than_6_chars</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">  </span><span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">too_long isn&#39;t an identifier according toless_than_6_chars</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="i2.util.frozendict">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">frozendict</span></span><a class="headerlink" href="#i2.util.frozendict" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#i2.util.FrozenDict" title="i2.util.FrozenDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">FrozenDict</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.get_app_data_folder">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">get_app_data_folder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#get_app_data_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.get_app_data_folder" title="Link to this definition"></a></dt>
<dd><p>Returns the full path of a directory suitable for storing application-specific data.</p>
<p>On Windows, this is typically %APPDATA%.
On macOS, this is typically ~/.config.
On Linux, this is typically ~/.config.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The full path of the app data folder.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
<p>See <a class="reference external" href="https://github.com/i2mint/i2mint/issues/1">https://github.com/i2mint/i2mint/issues/1</a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.get_function_body">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">get_function_body</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#get_function_body"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.get_function_body" title="Link to this definition"></a></dt>
<dd><p>Get the body of a function as a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> – The function to get the body of.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The body of the function as a string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.ignore_exception">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">ignore_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">T</span></span></span><a class="headerlink" href="#i2.util.ignore_exception" title="Link to this definition"></a></dt>
<dd><p>the identity function: f(x) := x (takes only one argument, and returns it)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="i2.util.imdict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">imdict</span></span><a class="reference internal" href="../../_modules/i2/util.html#imdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.imdict" title="Link to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="i2.util.imdict.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Remove</span> <span class="pre">all</span> <span class="pre">items</span> <span class="pre">from</span> <span class="pre">D.</span></span></span><a class="headerlink" href="#i2.util.imdict.clear" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.imdict.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">v,</span> <span class="pre">remove</span> <span class="pre">specified</span> <span class="pre">key</span> <span class="pre">and</span> <span class="pre">return</span> <span class="pre">the</span> <span class="pre">corresponding</span> <span class="pre">value.</span></span></span><a class="headerlink" href="#i2.util.imdict.pop" title="Link to this definition"></a></dt>
<dd><p>If the key is not found, return the default if given; otherwise,
raise a KeyError.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.imdict.popitem">
<span class="sig-name descname"><span class="pre">popitem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#i2.util.imdict.popitem" title="Link to this definition"></a></dt>
<dd><p>Remove and return a (key, value) pair as a 2-tuple.</p>
<p>Pairs are returned in LIFO (last-in, first-out) order.
Raises KeyError if the dict is empty.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.imdict.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#i2.util.imdict.setdefault" title="Link to this definition"></a></dt>
<dd><p>Insert key with a value of default if key is not in the dictionary.</p>
<p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="i2.util.imdict.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">**F</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Update</span> <span class="pre">D</span> <span class="pre">from</span> <span class="pre">dict/iterable</span> <span class="pre">E</span> <span class="pre">and</span> <span class="pre">F.</span></span></span><a class="headerlink" href="#i2.util.imdict.update" title="Link to this definition"></a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.inject_method">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">inject_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#inject_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.inject_method" title="Link to this definition"></a></dt>
<dd><p>Inject a method into an object instance.</p>
<dl class="simple">
<dt>method_function could be:</dt><dd><ul class="simple">
<li><p>a function</p></li>
<li><p>a {method_name: function, …} dict (for multiple injections)</p></li>
<li><p>a list of functions or (function, method_name) pairs</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.insert_name_based_objects_in_scope">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">insert_name_based_objects_in_scope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MutableMapping</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_overwrites</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#insert_name_based_objects_in_scope"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.insert_name_based_objects_in_scope" title="Link to this definition"></a></dt>
<dd><p>Make several string-parametrized objects and insert them in a scope (e.g. locals()).</p>
<p>This is useful when to avoid (error-prone) situations where we want the name we
assign an object to, to be aligned with it’s internal name, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foo</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">baz</span> <span class="o">=</span> <span class="n">Factory</span><span class="p">(</span><span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>names</strong> – Identifier (valid python variable name) strings.
These are used both as arguments of the <code class="docutils literal notranslate"><span class="pre">factory</span></code> and as keys for the
<code class="docutils literal notranslate"><span class="pre">scope</span></code> the object the factory makes will be inserted under.</p></li>
<li><p><strong>factory</strong> – A function that takes a (valid python identifier) string and
returns an object parametrized by that string.</p></li>
<li><p><strong>scope</strong> – The <code class="docutils literal notranslate"><span class="pre">MutableMapping</span></code> we want to insert the objects in.</p></li>
<li><p><strong>allow_overwrites</strong> – Whether the objects we create can overwrite existing
objects the <code class="docutils literal notranslate"><span class="pre">scope</span></code> may already have. If we don’t allow overwrites and we
try to write under an existing key, a <code class="docutils literal notranslate"><span class="pre">OverwritesForbidden</span></code> error will be
raised. This also includes the situation where we have some duplicates in
<code class="docutils literal notranslate"><span class="pre">names</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None (this function has the side effect of inserting items in <code class="docutils literal notranslate"><span class="pre">scope</span></code>.</p>
</dd>
</dl>
<p>One of the (controversal) uses of <code class="docutils literal notranslate"><span class="pre">insert_name_based_objects_in_scope</span></code> is to be
able to make several string-parametrized</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">factory</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">namedtuple</span><span class="p">,</span> <span class="n">field_names</span><span class="o">=</span><span class="s1">&#39;apple banana&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">insert_namedtuples_in_locals</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">insert_name_based_objects_in_scope</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">factory</span><span class="o">=</span><span class="n">factory</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="nb">locals</span><span class="p">(),</span> <span class="n">allow_overwrites</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">insert_namedtuples_in_locals</span><span class="p">(</span><span class="s1">&#39;foo bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>And now <a href="#id1"><span class="problematic" id="id2">``</span></a>foo` exists!</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;foo&#39;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">foo(apple=1, banana=2)</span>
</pre></div>
</div>
<p>And so does <code class="docutils literal notranslate"><span class="pre">bar</span></code> and <code class="docutils literal notranslate"><span class="pre">baz</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bar</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">banana</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">bar(apple=3, banana=4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">baz</span><span class="p">(</span><span class="n">apple</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">banana</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">baz(apple=3, banana=4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.inspect_formatargspec">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">inspect_formatargspec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varargs=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varkw=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwonlyargs=()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwonlydefaults={}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations={}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatarg=&lt;class</span> <span class="pre">'str'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatvarargs=&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatvarkw=&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatvalue=&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatreturns=&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatannotation=&lt;function</span> <span class="pre">formatannotation&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#inspect_formatargspec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.inspect_formatargspec" title="Link to this definition"></a></dt>
<dd><p>Copy formatargspec from python 3.7 standard library.
Python 3 has deprecated formatargspec and requested that Signature
be used instead, however this requires a full reimplementation
of formatargspec() in terms of creating Parameter objects and such.
Instead of introducing all the object-creation overhead and having
to reinvent from scratch, just copy their compatibility routine.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.lambda_code">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">lambda_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambda_func</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../../_modules/i2/util.html#lambda_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.lambda_code" title="Link to this definition"></a></dt>
<dd><p>Extract code of expression from lambda function.
For lambda code-extraction see:
<a class="reference external" href="https://stackoverflow.com/questions/73980648/how-to-transform-a-lambda-function-into-a-pickle-able-function">https://stackoverflow.com/questions/73980648/how-to-transform-a-lambda-function-into-a-pickle-able-function</a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="i2.util.lazyprop">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">lazyprop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#lazyprop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.lazyprop" title="Link to this definition"></a></dt>
<dd><p>A descriptor implementation of lazyprop (cached property) from David Beazley’s “Python Cookbook” book.
It’s</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Test</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<span class="gp">... </span>    <span class="nd">@lazyprop</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;generating &quot;len&quot;&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="go">{&#39;a&#39;: [0, 1, 2, 3, 4]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">len</span>
<span class="go">generating &quot;len&quot;</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="vm">__dict__</span>
<span class="go">{&#39;a&#39;: [0, 1, 2, 3, 4], &#39;len&#39;: 5}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">len</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># But careful when using lazyprop that no one will change the value of a without deleting the property first</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>  <span class="c1"># if we change a...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">len</span>  <span class="c1"># ... we still get the old cached value of len</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">t</span><span class="o">.</span><span class="n">len</span>  <span class="c1"># if we delete the len prop</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">len</span>  <span class="c1"># ... then len being recomputed again</span>
<span class="go">generating &quot;len&quot;</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.mk_sentinel">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">mk_sentinel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boolean_value:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repr_:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">~typing.Callable</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">_default_sentinel_repr_method&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#mk_sentinel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.mk_sentinel" title="Link to this definition"></a></dt>
<dd><p>Creates and returns a new <strong>instance</strong> of a new class, suitable for usage as a
“sentinel” since it is a kind of singleton (there can be only one instance of it.)</p>
<p>A frequent use case for sentinels are where we want to indicate that something is
missing. Often, we use <code class="docutils literal notranslate"><span class="pre">None</span></code> for this, but sometimes <code class="docutils literal notranslate"><span class="pre">None</span></code> is a valid value in
our context (see for example the <code class="docutils literal notranslate"><span class="pre">inspect.Parameter.empty</span></code> sentinel to indicate
that an argument doesn’t have a default or annotation).
Other times, we may want to distinguish different kinds of “nothing”.</p>
<p><code class="docutils literal notranslate"><span class="pre">mk_sentinel</span></code> can help you create such sentinels, takes care of annoying details
like pickability and allows you to control how to resolve your sentinel to a boolean.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of your sentinel. Will be used for <code class="docutils literal notranslate"><span class="pre">__name__</span></code> attribute.</p></li>
<li><p><strong>boolean_value</strong> – The boolean value that the sentinel instance should resolve to.</p></li>
<li><p><strong>repr</strong> – The method or string that should be used for the repr.</p></li>
<li><p><strong>module</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A sentinel instance</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span> <span class="o">=</span> <span class="n">mk_sentinel</span><span class="p">(</span><span class="s1">&#39;Empty&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span>
<span class="go">Sentinel(&#39;Empty&#39;)</span>
</pre></div>
</div>
<p>By default, the boolean resolution of a sentinel is <code class="docutils literal notranslate"><span class="pre">False</span></code>. Meaning:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Nothing</span> <span class="o">=</span> <span class="n">mk_sentinel</span><span class="p">(</span><span class="s1">&#39;Nothing&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">Nothing</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This is consistent with <code class="docutils literal notranslate"><span class="pre">None</span></code>, so that you can check that an object <code class="docutils literal notranslate"><span class="pre">x</span></code> is not
<code class="docutils literal notranslate"><span class="pre">Nothing</span></code> by doing <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x:</span> <span class="pre">...</span></code> or idioms like:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Nothing</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="ow">or</span> <span class="s1">&#39;default&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span>
<span class="go">&#39;default&#39;</span>
</pre></div>
</div>
<p>(Though note that in situations where other elements that cast to <code class="docutils literal notranslate"><span class="pre">False</span></code> are
valid values for <code class="docutils literal notranslate"><span class="pre">x</span></code> (like <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>, or <code class="docutils literal notranslate"><span class="pre">False</span></code> itself), it’s safer to use
<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">Nothing:</span> <span class="pre">...</span></code>.)</p>
<p>Anyway, I digress.
Point is that in some situations, the semantics  or usage of your sentinel is better
align with True. You can control what the boolean resolution of your
sentinel should be through the <code class="docutils literal notranslate"><span class="pre">boolean_value</span></code> argument:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span> <span class="o">=</span> <span class="n">mk_sentinel</span><span class="p">(</span><span class="s1">&#39;Empty&#39;</span><span class="p">,</span> <span class="n">boolean_value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">Empty</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>You can also control what you see in the repr, specifying a string value;</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span> <span class="o">=</span> <span class="n">mk_sentinel</span><span class="p">(</span><span class="s1">&#39;undefined&#39;</span><span class="p">,</span> <span class="n">repr_</span><span class="o">=</span><span class="s1">&#39;undefined&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span>
<span class="go">undefined</span>
</pre></div>
</div>
<p>or a method;</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span> <span class="o">=</span> <span class="n">mk_sentinel</span><span class="p">(</span><span class="s1">&#39;Empty&#39;</span><span class="p">,</span> <span class="n">repr_</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">self</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span>
<span class="go">&lt;Empty&gt;</span>
</pre></div>
</div>
<p>And yes, even though we used a lambda here, it’s still picklable:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pickle</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span> <span class="o">=</span> <span class="n">mk_sentinel</span><span class="p">(</span><span class="s1">&#39;Empty&#39;</span><span class="p">,</span> <span class="n">repr_</span><span class="o">=</span><span class="s1">&#39;Empty&#39;</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="vm">__name__</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">Empty</span><span class="p">))</span>  
<span class="go">Empty</span>
</pre></div>
</div>
<p>Talking about pickle, here’s some more info on that:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">unpickled_Empty</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">Empty</span><span class="p">))</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The unpickled version is &quot;equal&quot; to the original:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unpickled_Empty</span> <span class="o">==</span> <span class="n">Empty</span>  
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the types are the same too:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">unpickled_Empty</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="n">Empty</span><span class="p">)</span>    
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Note that though two sentinels might have the same name, they’re not equal:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span> <span class="o">=</span> <span class="n">mk_sentinel</span><span class="p">(</span><span class="s1">&#39;Empty&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AnotherEmptyWithSameName</span> <span class="o">=</span> <span class="n">mk_sentinel</span><span class="p">(</span><span class="s1">&#39;Empty&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Empty</span>
<span class="go">Sentinel(&#39;Empty&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AnotherEmptyWithSameName</span>
<span class="go">Sentinel(&#39;Empty&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># but...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">AnotherEmptyWithSameName</span> <span class="o">==</span> <span class="n">Empty</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Note even the types are the same!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">AnotherEmptyWithSameName</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="n">Empty</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>One thing that makes the pickle work is that we took care of sticking in a
<code class="docutils literal notranslate"><span class="pre">__module__</span></code> for you. <code class="docutils literal notranslate"><span class="pre">mk_sentinel</span></code> figures this out by some dark magic
involving looking into the system’s “frames” etc. This may not always work since
some systems (e.g. <code class="docutils literal notranslate"><span class="pre">pypy</span></code>) may use different “under-the-hood” methods.</p>
<p>But if you want to control the value of <code class="docutils literal notranslate"><span class="pre">__module__</span></code> yourself, you can, simply
but indicating what the module of the sentinel is.
Usually, you’ll just specify it as <code class="docutils literal notranslate"><span class="pre">module=__name__</span></code>, which will stick the
name of the module you’re defining the sentinel in for you!</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MySentinel</span> <span class="o">=</span> <span class="n">mk_sentinel</span><span class="p">(</span><span class="s1">&#39;MySentinel&#39;</span><span class="p">,</span> <span class="n">module</span><span class="o">=</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
<p>Thanks: Inspired greately from the <code class="docutils literal notranslate"><span class="pre">make_sentinel</span></code> function of <code class="docutils literal notranslate"><span class="pre">boltons</span></code>:
See <a class="reference external" href="https://boltons.readthedocs.io/">https://boltons.readthedocs.io/</a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.path_extractor">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">path_extractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">getter=&lt;function</span> <span class="pre">dflt_idx_preprocessor&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_sep='.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#path_extractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.path_extractor" title="Link to this definition"></a></dt>
<dd><p>Get items from a tree-structured object from a sequence of tree-traversal indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree</strong> – The object you want to extract values from:
Can be any object you want, as long as the indices listed by path and how to get
the items indexed are well specified by <code class="docutils literal notranslate"><span class="pre">path</span></code> and <code class="docutils literal notranslate"><span class="pre">getter</span></code>.</p></li>
<li><p><strong>path</strong> – An iterable of indices that define how to traverse the tree to get
to desired item(s). If this iterable is a string, the <code class="docutils literal notranslate"><span class="pre">path_sep</span></code> argument
will be used to transform it into a tuple of string indices.</p></li>
<li><p><strong>getter</strong> – A <code class="docutils literal notranslate"><span class="pre">(tree,</span> <span class="pre">idx)</span></code> function that specifies how to extract item <code class="docutils literal notranslate"><span class="pre">idx</span></code>
from the <code class="docutils literal notranslate"><span class="pre">tree</span></code> object.</p></li>
<li><p><strong>path_sep</strong> – The string separator to use if <code class="docutils literal notranslate"><span class="pre">path</span></code> is a string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <code class="docutils literal notranslate"><span class="pre">tree</span></code> item(s) referenced by <code class="docutils literal notranslate"><span class="pre">path</span></code></p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}]}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="go">{&#39;b&#39;: [0, {&#39;c&#39;: [1, 2, 3]}]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="go">[0, {&#39;c&#39;: [1, 2, 3]}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="go">{&#39;c&#39;: [1, 2, 3]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">3</span>
</pre></div>
</div>
<p>You could do the same by specifying the path as a dot-separated string.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="s1">&#39;a.b.1.c.2&#39;</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>You can use any separation you want.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="s1">&#39;a/b/1/c/2&#39;</span><span class="p">,</span> <span class="n">path_sep</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>You can also use <cite>*</cite> to indicate that you want to keep all the nodes of a given
level.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">]},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">]},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">30</span><span class="p">]}]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="s1">&#39;a.*.b.1&#39;</span><span class="p">)</span>
<span class="go">[10, 20, 30]</span>
</pre></div>
</div>
<p>A generalization of <cite>*</cite> is to specify a callable which will be intepreted as
a filter function.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])</span>
<span class="go">[{&#39;b&#39;: 1}, {&#39;b&#39;: 3}, {&#39;b&#39;: 4}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path_extractor</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">x</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="go">[1, 3, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.return_false">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">return_false</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#return_false"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.return_false" title="Link to this definition"></a></dt>
<dd><p>a function that returns True (takes any number of arguments)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="i2.util.return_true">
<span class="sig-prename descclassname"><span class="pre">i2.util.</span></span><span class="sig-name descname"><span class="pre">return_true</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/i2/util.html#return_true"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#i2.util.return_true" title="Link to this definition"></a></dt>
<dd><p>a function that returns False (takes any number of arguments)</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tests/util.html" class="btn btn-neutral float-left" title="i2.tests.util" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wrapper.html" class="btn btn-neutral float-right" title="i2.wrapper" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright NO COPYRIGHT.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>