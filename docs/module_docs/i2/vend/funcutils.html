
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>i2.vend.funcutils &#8212; i2 0.0.22 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="prev" title="i2.util" href="../util.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-i2.vend.funcutils">
<span id="i2-vend-funcutils"></span><h1>i2.vend.funcutils<a class="headerlink" href="#module-i2.vend.funcutils" title="Permalink to this headline">¶</a></h1>
<p>Python’s built-in <code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code> module builds several useful
utilities on top of Python’s first-class function
support. <code class="docutils literal notranslate"><span class="pre">funcutils</span></code> generally stays in the same vein, adding to and
correcting Python’s standard metaprogramming facilities.</p>
<dl class="py class">
<dt id="i2.vend.funcutils.CachedInstancePartial">
<em class="property">class </em><code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">CachedInstancePartial</code><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#CachedInstancePartial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.CachedInstancePartial" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">CachedInstancePartial</span></code> is virtually the same as
<a class="reference internal" href="#i2.vend.funcutils.InstancePartial" title="i2.vend.funcutils.InstancePartial"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstancePartial</span></code></a>, adding support for method-usage to
<code class="xref py py-class docutils literal notranslate"><span class="pre">functools.partial</span></code>, except that upon first access, it
caches the bound method on the associated object, speeding it up
for future accesses, and bringing the method call overhead to
about the same as non-<code class="docutils literal notranslate"><span class="pre">partial</span></code> methods.</p>
<p>See the <a class="reference internal" href="#i2.vend.funcutils.InstancePartial" title="i2.vend.funcutils.InstancePartial"><code class="xref py py-class docutils literal notranslate"><span class="pre">InstancePartial</span></code></a> docstring for more details.</p>
</dd></dl>

<dl class="py exception">
<dt id="i2.vend.funcutils.ExistingArgument">
<em class="property">exception </em><code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">ExistingArgument</code><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#ExistingArgument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.ExistingArgument" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="i2.vend.funcutils.FunctionBuilder">
<em class="property">class </em><code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">FunctionBuilder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#FunctionBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.FunctionBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>The FunctionBuilder type provides an interface for programmatically
creating new functions, either based on existing functions or from
scratch.</p>
<p>Values are passed in at construction or set as attributes on the
instance. For creating a new function based of an existing one,
see the <a class="reference internal" href="#i2.vend.funcutils.FunctionBuilder.from_func" title="i2.vend.funcutils.FunctionBuilder.from_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_func()</span></code></a> classmethod. At any
point, <a class="reference internal" href="#i2.vend.funcutils.FunctionBuilder.get_func" title="i2.vend.funcutils.FunctionBuilder.get_func"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_func()</span></code></a> can be called to get a
newly compiled function, based on the values configured.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fb</span> <span class="o">=</span> <span class="n">FunctionBuilder</span><span class="p">(</span><span class="s1">&#39;return_five&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s1">&#39;returns the integer 5&#39;</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="n">body</span><span class="o">=</span><span class="s1">&#39;return 5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">fb</span><span class="o">.</span><span class="n">get_func</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fb</span><span class="o">.</span><span class="n">varkw</span> <span class="o">=</span> <span class="s1">&#39;kw&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_kw</span> <span class="o">=</span> <span class="n">fb</span><span class="o">.</span><span class="n">get_func</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_kw</span><span class="p">(</span><span class="n">ignored_arg</span><span class="o">=</span><span class="s1">&#39;ignored_val&#39;</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Note that function signatures themselves changed quite a bit in
Python 3, so several arguments are only applicable to
FunctionBuilder in Python 3. Except for <em>name</em>, all arguments to
the constructor are keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the function.</p></li>
<li><p><strong>doc</strong> (<em>str</em>) – <a class="reference external" href="https://en.wikipedia.org/wiki/Docstring#Python">Docstring</a> for the function, defaults to empty.</p></li>
<li><p><strong>module</strong> (<em>str</em>) – Name of the module from which this function was
imported. Defaults to None.</p></li>
<li><p><strong>body</strong> (<em>str</em>) – String version of the code representing the body
of the function. Defaults to <code class="docutils literal notranslate"><span class="pre">'pass'</span></code>, which will result
in a function which does nothing and returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>args</strong> (<em>list</em>) – List of argument names, defaults to empty list,
denoting no arguments.</p></li>
<li><p><strong>varargs</strong> (<em>str</em>) – Name of the catch-all variable for positional
arguments. E.g., “args” if the resultant function is to have
<code class="docutils literal notranslate"><span class="pre">*args</span></code> in the signature. Defaults to None.</p></li>
<li><p><strong>varkw</strong> (<em>str</em>) – Name of the catch-all variable for keyword
arguments. E.g., “kwargs” if the resultant function is to have
<code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> in the signature. Defaults to None.</p></li>
<li><p><strong>defaults</strong> (<em>tuple</em>) – A tuple containing default argument values for
those arguments that have defaults.</p></li>
<li><p><strong>kwonlyargs</strong> (<em>list</em>) – Argument names which are only valid as
keyword arguments. <strong>Python 3 only.</strong></p></li>
<li><p><strong>kwonlydefaults</strong> (<em>dict</em>) – A mapping, same as normal <em>defaults</em>,
but only for the <em>kwonlyargs</em>. <strong>Python 3 only.</strong></p></li>
<li><p><strong>annotations</strong> (<em>dict</em>) – Mapping of type hints and so
forth. <strong>Python 3 only.</strong></p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename that will appear in
tracebacks. Defaults to “boltons.funcutils.FunctionBuilder”.</p></li>
<li><p><strong>indent</strong> (<em>int</em>) – Number of spaces with which to indent the
function <em>body</em>. Values less than 1 will result in an error.</p></li>
<li><p><strong>dict</strong> (<em>dict</em>) – Any other attributes which should be added to the
functions compiled with this FunctionBuilder.</p></li>
</ul>
</dd>
</dl>
<p>All of these arguments are also made available as attributes which
can be mutated as necessary.</p>
<dl class="py method">
<dt id="i2.vend.funcutils.FunctionBuilder.add_arg">
<code class="sig-name descname">add_arg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg_name</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">NO_DEFAULT</span></em>, <em class="sig-param"><span class="n">kwonly</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#FunctionBuilder.add_arg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.FunctionBuilder.add_arg" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an argument with optional <em>default</em> (defaults to
<code class="docutils literal notranslate"><span class="pre">funcutils.NO_DEFAULT</span></code>). Pass <em>kwonly=True</em> to add a
keyword-only argument</p>
</dd></dl>

<dl class="py method">
<dt id="i2.vend.funcutils.FunctionBuilder.from_func">
<em class="property">classmethod </em><code class="sig-name descname">from_func</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#FunctionBuilder.from_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.FunctionBuilder.from_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new FunctionBuilder instance based on an existing
function. The original function will not be stored or
modified.</p>
</dd></dl>

<dl class="py method">
<dt id="i2.vend.funcutils.FunctionBuilder.get_defaults_dict">
<code class="sig-name descname">get_defaults_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#FunctionBuilder.get_defaults_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.FunctionBuilder.get_defaults_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dictionary of function arguments with defaults and the
respective values.</p>
</dd></dl>

<dl class="py method">
<dt id="i2.vend.funcutils.FunctionBuilder.get_func">
<code class="sig-name descname">get_func</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">execdict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">add_source</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">with_dict</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#FunctionBuilder.get_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.FunctionBuilder.get_func" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile and return a new function based on the current values of
the FunctionBuilder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>execdict</strong> (<em>dict</em>) – The dictionary representing the scope in
which the compilation should take place. Defaults to an empty
dict.</p></li>
<li><p><strong>add_source</strong> (<em>bool</em>) – Whether to add the source used to a
special <code class="docutils literal notranslate"><span class="pre">__source__</span></code> attribute on the resulting
function. Defaults to True.</p></li>
<li><p><strong>with_dict</strong> (<em>bool</em>) – Add any custom attributes, if
applicable. Defaults to True.</p></li>
</ul>
</dd>
</dl>
<p>To see an example of usage, see the implementation of
<code class="xref py py-func docutils literal notranslate"><span class="pre">wraps()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="i2.vend.funcutils.FunctionBuilder.get_sig_str">
<code class="sig-name descname">get_sig_str</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">with_annotations</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#FunctionBuilder.get_sig_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.FunctionBuilder.get_sig_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return function signature as a string.</p>
<p>with_annotations is ignored on Python 2.  On Python 3 signature
will omit annotations if it is set to False.</p>
</dd></dl>

<dl class="py method">
<dt id="i2.vend.funcutils.FunctionBuilder.remove_arg">
<code class="sig-name descname">remove_arg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#FunctionBuilder.remove_arg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.FunctionBuilder.remove_arg" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an argument from this FunctionBuilder’s argument list. The
resulting function will have one less argument per call to
this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arg_name</strong> (<em>str</em>) – The name of the argument to remove.</p>
</dd>
</dl>
<p>Raises a <code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> if the argument is not present.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="i2.vend.funcutils.InstancePartial">
<em class="property">class </em><code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">InstancePartial</code><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#InstancePartial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.InstancePartial" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">functools.partial</span></code> is a huge convenience for anyone
working with Python’s great first-class functions. It allows
developers to curry arguments and incrementally create simpler
callables for a variety of use cases.</p>
<p>Unfortunately there’s one big gap in its usefulness:
methods. Partials just don’t get bound as methods and
automatically handed a reference to <code class="docutils literal notranslate"><span class="pre">self</span></code>. The
<code class="docutils literal notranslate"><span class="pre">InstancePartial</span></code> type remedies this by inheriting from
<code class="xref py py-class docutils literal notranslate"><span class="pre">functools.partial</span></code> and implementing the necessary
descriptor protocol. There are no other differences in
implementation or usage. <a class="reference internal" href="#i2.vend.funcutils.CachedInstancePartial" title="i2.vend.funcutils.CachedInstancePartial"><code class="xref py py-class docutils literal notranslate"><span class="pre">CachedInstancePartial</span></code></a>, below,
has the same ability, but is slightly more efficient.</p>
</dd></dl>

<dl class="py exception">
<dt id="i2.vend.funcutils.MissingArgument">
<em class="property">exception </em><code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">MissingArgument</code><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#MissingArgument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.MissingArgument" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.copy_function">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">copy_function</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">orig</span></em>, <em class="sig-param"><span class="n">copy_dict</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#copy_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.copy_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a shallow copy of the function, including code object,
globals, closure, etc.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">func</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">()</span> <span class="ow">is</span> <span class="n">func</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_copy</span> <span class="o">=</span> <span class="n">copy_function</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_copy</span><span class="p">()</span> <span class="ow">is</span> <span class="n">func</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_copy</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">func</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orig</strong> (<em>function</em>) – The function to be copied. Must be a
function, not just any method or callable.</p></li>
<li><p><strong>copy_dict</strong> (<em>bool</em>) – Also copy any attributes set on the function
instance. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.dir_dict">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">dir_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">raise_exc</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#dir_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.dir_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of attribute names to values for a given
object. Unlike <code class="docutils literal notranslate"><span class="pre">obj.__dict__</span></code>, this function returns all
attributes on the object, including ones on parent classes.</p>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.format_exp_repr">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">format_exp_repr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">pos_names</span></em>, <em class="sig-param"><span class="n">req_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">opt_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">opt_key</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#format_exp_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.format_exp_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Render an expression-style repr of an object, based on attribute
names, which are assumed to line up with arguments to an initializer.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Flag</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>       <span class="bp">self</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">length</span>
<span class="gp">... </span>       <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
<span class="gp">... </span>       <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">depth</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>That’s our Flag object, here are some example reprs for it:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="n">Flag</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">format_exp_repr</span><span class="p">(</span><span class="n">flag</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;length&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[</span><span class="s1">&#39;depth&#39;</span><span class="p">]))</span>
<span class="go">Flag(5, 10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag2</span> <span class="o">=</span> <span class="n">Flag</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">format_exp_repr</span><span class="p">(</span><span class="n">flag2</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;length&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="s1">&#39;depth&#39;</span><span class="p">]))</span>
<span class="go">Flag(5, width=15, depth=2)</span>
</pre></div>
</div>
<p>By picking the pos_names, req_names, opt_names, and opt_key, you
can fine-tune how you want the repr to look.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>object</em>) – The object whose type name will be used and
attributes will be checked</p></li>
<li><p><strong>pos_names</strong> (<em>list</em>) – Required list of attribute names which will be
rendered as positional arguments in the output repr.</p></li>
<li><p><strong>req_names</strong> (<em>list</em>) – List of attribute names which will always
appear in the keyword arguments in the output repr. Defaults to None.</p></li>
<li><p><strong>opt_names</strong> (<em>list</em>) – List of attribute names which may appear in
the keyword arguments in the output repr, provided they pass
the <em>opt_key</em> check. Defaults to None.</p></li>
<li><p><strong>opt_key</strong> (<em>callable</em>) – A function or callable which checks whether
an opt_name should be in the repr. Defaults to a
<code class="docutils literal notranslate"><span class="pre">None</span></code>-check.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.format_invocation">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">format_invocation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">args</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">kwargs</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#format_invocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.format_invocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a name, positional arguments, and keyword arguments, format
a basic Python-style function call.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">format_invocation</span><span class="p">(</span><span class="s1">&#39;func&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}))</span>
<span class="go">func(1, 2, c=3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">format_invocation</span><span class="p">(</span><span class="s1">&#39;a_func&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,)))</span>
<span class="go">a_func(1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">format_invocation</span><span class="p">(</span><span class="s1">&#39;kw_func&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]))</span>
<span class="go">kw_func(a=1, b=2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.format_nonexp_repr">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">format_nonexp_repr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">req_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">opt_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">opt_key</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#format_nonexp_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.format_nonexp_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a non-expression-style repr</p>
<p>Some object reprs look like object instantiation, e.g., App(r=[], mw=[]).</p>
<p>This makes sense for smaller, lower-level objects whose state
roundtrips. But a lot of objects contain values that don’t
roundtrip, like types and functions.</p>
<p>For those objects, there is the non-expression style repr, which
mimic’s Python’s default style to make a repr like so:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Flag</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>       <span class="bp">self</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">length</span>
<span class="gp">... </span>       <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
<span class="gp">... </span>       <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">depth</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="n">Flag</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">format_nonexp_repr</span><span class="p">(</span><span class="n">flag</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;length&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;depth&#39;</span><span class="p">]))</span>
<span class="go">&lt;Flag length=5 width=10&gt;</span>
</pre></div>
</div>
<p>If no attributes are specified or set, utilizes the id, not unlike Python’s
built-in behavior.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">format_nonexp_repr</span><span class="p">(</span><span class="n">flag</span><span class="p">))</span>
<span class="go">&lt;Flag id=...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.get_module_callables">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">get_module_callables</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mod</span></em>, <em class="sig-param"><span class="n">ignore</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#get_module_callables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.get_module_callables" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns two maps of (<em>types</em>, <em>funcs</em>) from <em>mod</em>, optionally
ignoring based on the <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code> return value of the <em>ignore</em>
callable. <em>mod</em> can be a string name of a module in
<code class="xref py py-data docutils literal notranslate"><span class="pre">sys.modules</span></code> or the module instance itself.</p>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.inspect_formatargspec">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">inspect_formatargspec</code><span class="sig-paren">(</span><em class="sig-param">args</em>, <em class="sig-param">varargs=None</em>, <em class="sig-param">varkw=None</em>, <em class="sig-param">defaults=None</em>, <em class="sig-param">kwonlyargs=()</em>, <em class="sig-param">kwonlydefaults={}</em>, <em class="sig-param">annotations={}</em>, <em class="sig-param">formatarg=&lt;class 'str'&gt;</em>, <em class="sig-param">formatvarargs=&lt;function &lt;lambda&gt;&gt;</em>, <em class="sig-param">formatvarkw=&lt;function &lt;lambda&gt;&gt;</em>, <em class="sig-param">formatvalue=&lt;function &lt;lambda&gt;&gt;</em>, <em class="sig-param">formatreturns=&lt;function &lt;lambda&gt;&gt;</em>, <em class="sig-param">formatannotation=&lt;function formatannotation&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#inspect_formatargspec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.inspect_formatargspec" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy formatargspec from python 3.7 standard library.
Python 3 has deprecated formatargspec and requested that Signature
be used instead, however this requires a full reimplementation
of formatargspec() in terms of creating Parameter objects and such.
Instead of introducing all the object-creation overhead and having
to reinvent from scratch, just copy their compatibility routine.</p>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.mro_items">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">mro_items</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type_obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#mro_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.mro_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a type and returns an iterator over all class variables
throughout the type hierarchy (respecting the MRO).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">([</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">mro_items</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="s1">&#39;bytes&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">k</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">callable</span><span class="p">(</span><span class="n">v</span><span class="p">)]))</span>
<span class="go">[&#39;denominator&#39;, &#39;imag&#39;, &#39;numerator&#39;, &#39;real&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="i2.vend.funcutils.partial">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">partial</code><a class="headerlink" href="#i2.vend.funcutils.partial" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#i2.vend.funcutils.CachedInstancePartial" title="i2.vend.funcutils.CachedInstancePartial"><code class="xref py py-class docutils literal notranslate"><span class="pre">i2.vend.funcutils.CachedInstancePartial</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.partial_ordering">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">partial_ordering</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cls</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#partial_ordering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.partial_ordering" title="Permalink to this definition">¶</a></dt>
<dd><p>Class decorator, similar to <code class="xref py py-func docutils literal notranslate"><span class="pre">functools.total_ordering()</span></code>,
except it is used to define <a class="reference external" href="https://en.wikipedia.org/wiki/Partially_ordered_set">partial orderings</a> (i.e., it is
possible that <em>x</em> is neither greater than, equal to, or less than
<em>y</em>). It assumes the presence of the <code class="docutils literal notranslate"><span class="pre">__le__()</span></code> and <code class="docutils literal notranslate"><span class="pre">__ge__()</span></code>
method, but nothing else. It will not override any existing
additional comparison methods.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@partial_ordering</span>
<span class="gp">... </span><span class="k">class</span> <span class="nc">MySet</span><span class="p">(</span><span class="nb">set</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">MySet</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">&lt;</span> <span class="n">a</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">&gt;</span> <span class="n">a</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">&lt;</span> <span class="n">c</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">c</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">&gt;</span> <span class="n">a</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.update_wrapper">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">update_wrapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wrapper</span></em>, <em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">injected</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">expected</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">build_from</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#update_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.update_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Modeled after the built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">functools.update_wrapper()</span></code>,
this function is used to make your wrapper function reflect the
wrapped function’s:</p>
<blockquote>
<div><ul class="simple">
<li><p>Name</p></li>
<li><p>Documentation</p></li>
<li><p>Module</p></li>
<li><p>Signature</p></li>
</ul>
</div></blockquote>
<p>The built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">functools.update_wrapper()</span></code> copies the first three, but
does not copy the signature. This version of <code class="docutils literal notranslate"><span class="pre">update_wrapper</span></code> can copy
the inner function’s signature exactly, allowing seamless usage
and <code class="xref py py-mod docutils literal notranslate"><span class="pre">introspection</span></code>. Usage is identical to the
built-in version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">boltons.funcutils</span> <span class="kn">import</span> <span class="n">update_wrapper</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">print_return</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">ret</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">ret</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">update_wrapper</span><span class="p">(</span><span class="n">wrapper</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@print_return</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">example</span><span class="p">():</span>
<span class="gp">... </span>    <span class="sd">&#39;&#39;&#39;docstring&#39;&#39;&#39;</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="s1">&#39;example return value&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">example</span><span class="p">()</span>
<span class="go">example return value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span><span class="o">.</span><span class="vm">__name__</span>
<span class="go">&#39;example&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span><span class="o">.</span><span class="vm">__doc__</span>
<span class="go">&#39;docstring&#39;</span>
</pre></div>
</div>
<p>In addition, the boltons version of update_wrapper supports
modifying the outer signature. By passing a list of
<em>injected</em> argument names, those arguments will be removed from
the outer wrapper’s signature, allowing your decorator to provide
arguments that aren’t passed in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wrapper</strong> (<em>function</em>) – The callable to which the attributes of
<em>func</em> are to be copied.</p></li>
<li><p><strong>func</strong> (<em>function</em>) – The callable whose attributes are to be copied.</p></li>
<li><p><strong>injected</strong> (<em>list</em>) – An optional list of argument names which
should not appear in the new wrapper’s signature.</p></li>
<li><p><strong>expected</strong> (<em>list</em>) – An optional list of argument names (or (name,
default) pairs) representing new arguments introduced by
the wrapper (the opposite of <em>injected</em>). See
<a class="reference internal" href="#i2.vend.funcutils.FunctionBuilder.add_arg" title="i2.vend.funcutils.FunctionBuilder.add_arg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">FunctionBuilder.add_arg()</span></code></a> for more details.</p></li>
<li><p><strong>build_from</strong> (<em>function</em>) – The callable from which the new wrapper
is built. Defaults to <em>func</em>, unless <em>wrapper</em> is partial object
built from <em>func</em>, in which case it defaults to <em>wrapper</em>.
Useful in some specific cases where <em>wrapper</em> and <em>func</em> have the
same arguments but differ on which are keyword-only and positional-only.</p></li>
<li><p><strong>update_dict</strong> (<em>bool</em>) – Whether to copy other, non-standard
attributes of <em>func</em> over to the wrapper. Defaults to True.</p></li>
<li><p><strong>inject_to_varkw</strong> (<em>bool</em>) – Ignore missing arguments when a
<code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>-type catch-all is present. Defaults to True.</p></li>
<li><p><strong>hide_wrapped</strong> (<em>bool</em>) – Remove reference to the wrapped function(s)
in the updated function.</p></li>
</ul>
</dd>
</dl>
<p>In opposition to the built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">functools.update_wrapper()</span></code> bolton’s
version returns a copy of the function and does not modifiy anything in place.
For more in-depth wrapping of functions, see the
<a class="reference internal" href="#i2.vend.funcutils.FunctionBuilder" title="i2.vend.funcutils.FunctionBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBuilder</span></code></a> type, on which update_wrapper was built.</p>
</dd></dl>

<dl class="py function">
<dt id="i2.vend.funcutils.wraps">
<code class="sig-prename descclassname">i2.vend.funcutils.</code><code class="sig-name descname">wraps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em>, <em class="sig-param"><span class="n">injected</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">expected</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kw</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/i2/vend/funcutils.html#wraps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#i2.vend.funcutils.wraps" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator factory to apply update_wrapper() to a wrapper function.</p>
<p>Modeled after built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">functools.wraps()</span></code>. Returns a decorator
that invokes update_wrapper() with the decorated function as the wrapper
argument and the arguments to wraps() as the remaining arguments.
Default arguments are as for update_wrapper(). This is a convenience
function to simplify applying partial() to update_wrapper().</p>
<p>Same example as in update_wrapper’s doc but with wraps:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">boltons.funcutils</span> <span class="kn">import</span> <span class="n">wraps</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">print_return</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">ret</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">ret</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">wrapper</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@print_return</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">example</span><span class="p">():</span>
<span class="gp">... </span>    <span class="sd">&#39;&#39;&#39;docstring&#39;&#39;&#39;</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="s1">&#39;example return value&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">val</span> <span class="o">=</span> <span class="n">example</span><span class="p">()</span>
<span class="go">example return value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span><span class="o">.</span><span class="vm">__name__</span>
<span class="go">&#39;example&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">example</span><span class="o">.</span><span class="vm">__doc__</span>
<span class="go">&#39;docstring&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">i2</a></h1>








<h3>Navigation</h3>
<p><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../i2.html">i2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../alternative_approaches.html">i2.alternative_approaches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../base.html">i2.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chain_map.html">i2.chain_map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deco.html">i2.deco</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc_mint.html">i2.doc_mint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../errors.html">i2.errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/signature_calculus.html">i2.examples.signature_calculus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../footprints.html">i2.footprints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genu.html">i2.genu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io_trans.html">i2.io_trans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../itypes.html">i2.itypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../key_path.html">i2.key_path</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc.html">i2.misc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing_forest.html">i2.routing_forest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scrap.html">i2.scrap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../signatures.html">i2.signatures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simple_pymint.html">i2.simple_pymint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../switch_case_tree.html">i2.switch_case_tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests.html">i2.tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/footprints.html">i2.tests.footprints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/objects_for_testing.html">i2.tests.objects_for_testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/signatures.html">i2.tests.signatures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../util.html">i2.util</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">i2.vend.funcutils</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../util.html" title="previous chapter">i2.util</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;OtoSense 2020.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/module_docs/i2/vend/funcutils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>